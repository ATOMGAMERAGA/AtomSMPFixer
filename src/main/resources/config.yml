# ╔══════════════════════════════════════════════╗
# ║         AtomSMPFixer Yapılandırma            ║
# ║     Exploit Fixer Plugin - Paper 1.21.4      ║
# ║          v2.0.1 — False Positive Fix         ║
# ╚══════════════════════════════════════════════╝

# Genel Ayarlar
genel:
  # Plugin öneki (mesajlarda kullanılır)
  onek: "<gradient:#00d4ff:#00ff88>AtomSMPFixer</gradient> <dark_gray>»</dark_gray>"
  # Debug modu (geliştirici bilgilerini konsola yazdırır)
  debug: false
  # Log sistemi
  log:
    aktif: true
    # Log dosyaları klasörü
    klasor: "logs/atomsmpfixer"
    # Günlük dosya oluştur
    gunluk-dosya: true
    # Eski logları silme süresi (gün, 0 = hiçbir zaman silme)
    log-saklama-gunu: 7

# ═══════════════════════════════════════
# Modül Ayarları
# Her modül ayrı ayrı açılıp kapatılabilir
# ═══════════════════════════════════════

moduller:
  # Chunk başına çok fazla kitap (Crasher/Dupe)
  cok-fazla-kitap:
    aktif: true
    # Bir chunk'ta maksimum kitap sayısı
    chunk-basina-max-kitap: 50
    # Maksimum sayfa uzunluğu (karakter)
    max-sayfa-uzunlugu: 256
    # Maksimum toplam kitap boyutu (byte)
    max-toplam-boyut: 100000
    # İhlal durumunda eylem: ENGELLE, KALDIR, AT
    eylem: "ENGELLE"

  # Paket gecikme exploit'i (Bundle Dupe)
  paket-gecikme:
    aktif: true
    # Saniyede maksimum paket sayısı (paket türü başına)
    saniyede-max-paket: 500
    # Paket gecikme eşiği (ms)
    gecikme-esigi-ms: 20

  # Paket exploit düzeltmesi (Netty Crasher)
  paket-exploit:
    aktif: true
    # Maksimum paket boyutu (byte)
    max-paket-boyutu: 32767
    # Saniyede maksimum toplam paket oranı
    max-paket-orani: 800
    # Zaman penceresi (ms)
    zaman-penceresi-ms: 1000
    # Kara listedeki paket türleri
    kara-liste-paketler: []

  # CustomPayload düzeltmesi
  ozel-payload:
    aktif: true
    # İzin verilen kanallar (boş = varsayılan güvenli kanallar)
    # minecraft: ve bungeecord: prefix'li kanallar varsayılan olarak izinlidir
    izinli-kanallar: []
    # Maksimum payload boyutu (byte)
    max-payload-boyutu: 32767
    # Bilinmeyen kanalları engelle
    bilinmeyen-kanallari-engelle: true

  # Komut crash düzeltmesi
  komut-crash:
    aktif: true
    # Engellenen komutlar (regex destekli)
    # DİKKAT: Çok geniş pattern'lar false positive yaratır!
    engellenen-komutlar:
      - "//calc.*"
      - "//eval.*"
      - "/worldedit:.*calc.*"

  # Creative item düzeltmesi (World Crasher)
  creative-item:
    aktif: true
    # Item kara listesi (material adları)
    item-kara-liste:
      - "COMMAND_BLOCK"
      - "COMMAND_BLOCK_MINECART"
      - "BARRIER"
      - "STRUCTURE_BLOCK"
      - "STRUCTURE_VOID"
      - "JIGSAW"
      - "DEBUG_STICK"
    # Creative modda maksimum NBT boyutu
    max-nbt-boyutu-creative: 50000
    # Özel veriyi soy
    ozel-veriyi-soy: true
    # Maksimum büyü seviyesi
    max-buyu-seviyesi: 255

  # Tabela crash düzeltmesi (World Crasher)
  tabela-crash:
    aktif: true
    # Maksimum satır uzunluğu (vanilla: ~384 karakter)
    max-satir-uzunlugu: 384
    # Renk kodlarını temizle
    renk-kodlarini-temizle: false
    # Özel karakterleri engelle
    ozel-karakterleri-engelle: true

  # Kürsü crash düzeltmesi
  kursu-crash:
    aktif: true

  # Harita etiketi crash düzeltmesi
  harita-etiketi-crash:
    aktif: true
    # Harita etiketlerini devre dışı bırak
    etiketleri-devre-disi-birak: false
    # Harita başına maksimum etiket
    max-etiket-sayisi: 50

  # Geçersiz envanter slotu düzeltmesi
  gecersiz-slot:
    aktif: true

  # NBT crasher düzeltmesi
  nbt-crash:
    aktif: true
    # Maksimum NBT etiket sayısı
    max-nbt-etiket: 1000
    # Maksimum NBT derinliği
    max-nbt-derinlik: 16
    # Maksimum NBT boyutu (byte)
    max-nbt-boyut-byte: 500000

  # Kitap crash düzeltmesi
  kitap-crash:
    aktif: true
    # Maksimum başlık uzunluğu
    max-baslik-uzunlugu: 64
    # Maksimum sayfa sayısı
    max-sayfa-sayisi: 100
    # Sayfa başına maksimum boyut
    max-sayfa-boyutu: 1024
    # Maksimum toplam kitap boyutu
    max-toplam-kitap-boyutu: 100000

  # İnek duplikasyon düzeltmesi
  inek-duplikasyon:
    aktif: true
    # Kırkma cooldown süresi (ms)
    kirkma-cooldown-ms: 500

  # Dispenser crash düzeltmesi
  dispenser-crash:
    aktif: true

  # Çevrimdışı paket duplikasyon düzeltmesi
  cevrimdisi-paket:
    aktif: true
    # Tolerans süresi (ms) — yeni giriş yapan oyuncular için bekleme
    tolerans-suresi-ms: 5000

  # Envanter duplikasyon düzeltmesi
  envanter-duplikasyon:
    aktif: true

  # Katır duplikasyon düzeltmesi
  katir-duplikasyon:
    aktif: true

  # Portal kırma düzeltmesi
  portal-kirma:
    aktif: true
    # Mantar ile portal kırmayı engelle
    mantar-engelle: true
    # Su kovası ile portal kırmayı engelle
    su-kovasi-engelle: true

  # Bundle duplikasyon düzeltmesi
  bundle-duplikasyon:
    aktif: true
    # Tıklama cooldown süresi (ms) — sadece bundle etkileşimlerine uygulanır
    tiklama-cooldown-ms: 50
    # Bırakma cooldown süresi (ms)
    birakma-cooldown-ms: 50

  # Koordinat normalleştirme
  koordinat-normallestirme:
    aktif: true

  # Item frame crash düzeltmesi
  frame-crash:
    aktif: true
    # Chunk başına maksimum frame sayısı
    chunk-basina-max-frame: 100

  # ═══════════════════════════════════════
  # v2.0 — Yeni Güvenlik Modülleri
  # ═══════════════════════════════════════

  # Token Bucket Rate Limiter
  # Her oyuncu için 4 ayrı kova ile paket rate limiting
  jeton-kovasi:
    aktif: true
    kovalar:
      hareket:
        kapasite: 200
        dolum-saniye: 80
      sohbet:
        kapasite: 20
        dolum-saniye: 5
      envanter:
        kapasite: 100
        dolum-saniye: 50
      diger:
        kapasite: 150
        dolum-saniye: 60
    # Token < bu eşik → oyuncu kick edilir
    flood-kick-esigi: -200

  # Gelişmiş CustomPayload Filtresi
  # Mevcut ozel-payload modülünün üzerine ek katman
  gelismis-payload:
    aktif: true
    # Maksimum payload boyutu (byte) — vanilla limiti 32767
    max-payload-bayt: 32768
    # İzin verilen kanallar (boş = varsayılan güvenli kanallar)
    # minecraft: ve bungeecord: prefix'li kanallar varsayılan olarak izinlidir
    izinli-kanallar:
      - "minecraft:brand"
      - "minecraft:register"
      - "minecraft:unregister"
    # Client brand maksimum uzunluğu
    brand-max-uzunluk: 256

  # Netty Crash Koruması
  # Pipeline enjeksiyonu + konum doğrulama
  netty-crash:
    aktif: true
    # Maksimum konum değeri (X/Z ekseni)
    max-konum-degeri: 3.2E7
    # Maksimum Y ekseni değeri
    max-y-degeri: 4096

  # Item Temizleyici (1.21 Data Components)
  # Enchantment, attribute, skull ve food güvenlik kontrolleri
  item-temizleyici:
    aktif: true
    # Büyü toleransı (0 = sadece vanilla max, 5 = max+5'e kadar izin ver)
    buyu-toleransi: 5
    # Item başına maksimum attribute modifier sayısı
    max-attribute-modifier: 12
    # Skull texture maksimum boyutu (byte)
    max-kafa-texture-bayt: 32768
    # Maksimum besin değeri
    max-besin-degeri: 20
    # Maksimum yemek efekt sayısı
    max-yemek-efekt: 6

  # Gelişmiş Bundle Kilitleme
  # Slot kilitleme ile race condition koruması
  bundle-kilit:
    aktif: true
    # Kilit süresi (tick, 1 tick = 50ms)
    kilit-suresi-tick: 2

  # Shulker Box Byte Counter (Chunk Ban Koruma)
  # Aşırı büyük shulker kutularını engeller
  shulker-bayt:
    aktif: true
    # Maksimum shulker boyutu (byte, 500KB)
    max-bayt: 512000
    # Aşırı büyük shulker'ı sil
    fazla-boyutu-sil: true

  # Depolama Entity Kilidi (Donkey/Llama Sync)
  # İki oyuncunun aynı anda entity envanteri açmasını engeller
  depolama-entity-kilit:
    aktif: true
    # Kilit zaman aşımı (saniye)
    zaman-asimi-saniye: 30

  # Redstone Sınırlandırıcı (Anti-Lag)
  # Chunk başına redstone güncelleme sınırı
  redstone-sinirlandirici:
    aktif: true
    # Saniyede maksimum redstone güncellemesi (chunk başına)
    max-guncelleme-saniye: 1000
    # Limit aşıldığında cooldown süresi (saniye)
    bekleme-suresi-saniye: 3

  # Görünüm Mesafesi Maskeleme (Anti-NoCom)
  # View distance dışındaki paketleri filtreler
  gorunum-mesafesi-maskeleme:
    aktif: true
